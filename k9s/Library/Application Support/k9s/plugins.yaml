plugins:
  yamlLogs:
    args:
      - -c
      - kubectl logs --context="$CONTEXT" --namespace="$NAMESPACE" "$RESOURCE_NAME/$NAME" | jq -cR ". as \$line | try (fromjson | .) catch \$line" | yq --input-format="json" --colors "${1:-.}" - | less -R # -R is necessary for colorization
    background: false
    command: sh
    confirm: false
    description: Logs (as YAML)
    scopes:
      - daemonset
      - deploy
      - job
      - pod
      - replicaset
      - service
      - statefulset
    shortCut: Shift-Y
